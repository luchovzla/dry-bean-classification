<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Random Forest</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" 
  integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" 
  crossorigin="anonymous">

  <!-- Random Forest CSS -->
    <link rel="stylesheet" href="random_forest.css">

</head>

<body>

  <div class="container">
    <nav style="background-color:rgb(201, 168, 231) !important"
      class="p-1 navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
      <img src="Images/comp_1_2.gif" height="42" width="42">
      <a class="navbar-header" href="#"></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
        aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link font-weight-bold" href="index.html" style="color: ghostwhite;">Dry Bean
              Categorization<span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link active dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
              data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">ML Models</a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
              <a class="dropdown-item" href="random_forest.html">Random Forest</a>
              <a class="dropdown-item" href="mlr.html">Multiple Linear Regression</a>
              <a class="dropdown-item" href="neural_network.html">Neural Network</a>
              <a class="dropdown-item" href="knn.html">K Nearest Neighbors (KNN)</a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" target="_blank" href="analysis.html" style="color: ghostwhite;">Analysis</a>
          </li>
        </ul>
      </div>
    </nav>
  
    <div style="background-color:rgb(169, 212, 175) !important" class=jumbotron text-center">
      <div style="text-align: center">
        <h1 style="color: rgb(42, 116, 42)">Decision Tree vs Random Forest</h1>
        <img class="center" src="Images/forest_pic.png" height="400" width="400">
      </div>
    </div>
    <h3 style="color: rgb(42, 116, 42); text-align: center">Comparison of a Decision Tree Model and a Random Forest Model
    </h3>
    <p style="text-align: left;">In a Random Forest classifier, a whole bunch of trees get to "vote", whereas, with
      a Decision Tree classfier, only one tree "votes". Decision Trees can be
      very complex and are hard to generalize. A Random Forest algorithm, on the other hand, will sample the data
      and build several smaller, simpler decision trees. Each tree is much simpler because it
      from a subset of the data and is considered a "weak classifier" but, when you combine them, they form a
      "strong classifier".<sup>[1]</sup></p>
    <p>Our data set consists of 16 features and 7 labels, with the number of estimators set at 100 to get the highest
      accuracy.</p>
      <p>Figure 1 below shows one tree from the Random Forest classifier.</p>
      <h6 style="text-align: left;"><sup>[1]</sup>From
        'uofm-stp-data-pt-12-2020-u-c/01-Lesson-Plans_21-Machine-Learning_2_21.2 Classification - Updating.pdf'</h6>
        <hr class="class-6" />
    <h6 style="font-style: italic; color: rgb(223, 27, 27); text-align: center;">Click on the "tree" image to enlarge it. Select the "Reset"
      button when done.
      [It takes a few seconds to reach full size, so be patient!]</h6>
    <img class="center" src="Images/tree.png" height="300" width="800" onclick="enlargeImg()" id="img1" />
    <button onclick="resetImg()">Reset
    </button>
    <script>
      img = document.getElementById("img1");
      // Function to set image dimensions
      function enlargeImg() {
        img.style.width = "2500%";
        img.style.height = "auto";
        img.style.transition = "width 0.5s ease";
      }
      // Function to reset image dimensions
      function resetImg() {
        img.style.width = "100%";
        img.style.height = "auto";
        img.style.transition = "width 0.5s ease";
      }
    </script>
        <h6 style="text-align: center;">Figure 1</h6>
    <br>
    <hr class="class-6" />
    <div class="row">
      <div class="col-md-12">
        <h3 style="color: rgb(42, 116, 42); text-align: center">Comparison of Feature Importances</h3>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <p style="text-align: center;"><b>The Top 3 Feature Importances for the Decision Tree are:</b></p>
        <ol>
          <li>MajorAxisLength</li>
          <li>ShapeFactor1</li>
          <li>Perimeter</li>
        </ol>
        <img class="center" src="Images/Decision_Tree_Importances.png" height="500" width="440">
      </div>
      <div class="col-md-6">
        <p style="text-align: center;"><b>The Top 3 Feature Importances for the Random Forest are:</b></p>
        <ol>
          <li>Compactness</li>
          <li>Perimeter</li>
          <li>MinorAxisLength</li>
        </ol>
        <img class="center" src="Images/Random_Forest_Importances.png" height="500" width="440">
      </div>
    </div>
    <hr class="class-6" />
    <div class="row">
      <div class="col-md-12">
        <h3 style="color: rgb(42, 116, 42); text-align: center">Optimizing the Results</h3>
        <p>One of the hyper-parameters that can be used to optimize the results of the Random Forest Model is changing the "number of trees" used in the model. 
          The table on the left shows four different values for the n_estimator, and the resulting accuracy score. </p>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <p style="text-align: center;"><b>Hyper-Tuning w/ 'n_estimator'</b></p>
        <table border="1" class="dataframe" align="center" style="text-align: center;">
          <thead>
            <tr style="text-align: center;">
              <th>n_estimator<br> value</th>
              <th>Test Score</th>
              <th>Train Score</th>
            </tr>
          </thead> 
          <tbody> 
            <tr>
              <th>20</th>
              <td>0.998</td>
              <td>0.916</td>
            </tr>
            <tr>
              <th>50</th>
              <td>0.999</td>
              <td>0.921</td> 
            </tr>
            <tr>
              <th>100</th>
              <td>1.0</td>
              <td>0.922</td>
            </tr>
            <tr>
              <th>200</th>
              <td>1.0</td>
              <td>0.919</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="col-md-6">
        <br>
        <br>
        <p style="text-align: center;"><i>While adjusting the 'n_estimator' did not make a huge difference, the value of '100' returned the highest train and test scores, <b>1.0</b> and <b>0.922</b> 
          respectively. Prior to fine-tuning, the test score using the Random Forest classifer was 0.9203. The score only improved by 0.002 upon adjusting the 'n_estimator'.</i></p>
      </div>
    </div>
    <hr class="class-6" />
    <h3 style="color: rgb(42, 116, 42); text-align: center">Analysis</h3>
    <p>In conclusion, the Decision Tree test score was 0.8956, while the Random Forest test score (prior to fine-tuning) was 0.9203, an improvement of 0.25 over the Decision Tree classifier, 
      and with an additional improvement of 0.027 after fine-tuning, for a high score of <b>0.922</b>.</p>
      <br>
  </div>

  <!-- D3 -->
  <script src="https://d3js.org/d3.v6.min.js"></script>

  <!-- Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" 
  integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" 
  crossorigin="anonymous"></script>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" 
  integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" 
  crossorigin="anonymous"></script>
  
</body>

</html>